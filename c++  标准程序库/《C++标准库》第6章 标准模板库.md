# 《C++标准库》第6章 标准模板库

# STL组件

STL组件中最关键的三大组件：容器、迭代器、算法

![image-20210401112210316](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401112210316.png)

![image-20210401112224110](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401112224110.png)

![image-20210401112245682](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401112245682.png)

# 容器

容器可分为三大类：序列式容器、关联式容器、无序容器

![image-20210401112418719](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401112418719.png)

![image-20210401112428857](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401112428857.png)

序列式容器的有序指的是插入位置上的有序，先插入的排在前面，后插入的排在后面

关联式容器的有序指的是元素顺序上的有序，根据元素值大小进行排序

## 序列式容器

array、vector、deque、list

### Vector

![image-20210401112727862](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401112727862.png)

也可以使用insert和迭代器实现在首部和中部插入元素，但效率较低

### Deque

![image-20210401112859576](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401112859576.png)

可以向两端发展意味着首尾插入效率较高

一般而言，STL容器只提供具备良好时间效率的成员函数，所谓“良好”通常意味着其复杂度为常量或对数，以免程序员调用性能很差的函数

### Array

![image-20210401113113380](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401113113380.png)

在创建对象时需要在模板类型参数中提供元素个数

### List

![image-20210401113251556](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401113251556.png)

List在任何位置上插入和删除的效率都很好

例子：

![image-20210401113346239](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401113346239.png)

### Forward_list

![image-20210401113444952](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401113444952.png)

![image-20210401113632980](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401113632980.png)

例子：

![image-20210401113708984](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401113708984.png)

## 关联式容器

![image-20210401113803775](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401113803775.png)

![image-20210401113956865](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401113956865.png)

### Set 和 MultiSet 例子

![image-20210401114116765](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401114116765.png)

### Map 和 Multimap 例子

![image-20210401114202723](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401114202723.png)

map里面存储的对象其实是pair\<const key, value>类型，Key之所以必须是常量，因为其内容如果被改动，会破坏元素的次序，而元素次序是由容器自动排序的。

## 无序容器

![image-20210401114430802](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401114430802.png)

使用无序容器唯一的目标是查看某个特定元素是否位于容器内，当你打算从无序容器中查找一个带某特定值的元素，其速度甚至可能快过关联式容器

![image-20210401114507719](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401114507719.png)

![image-20210401114636078](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401114636078.png)

可以把unordered set看作一种特殊的map，其value值等同于key

### unordered set 和 unordered multiset 例子

![image-20210401114815990](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401114815990.png)

unordered multyset，两个相同元素先后插入set中时，先插入的那个元素会被安置在后插入那个元素之前，它们的先后相对顺序是不变的。

### unordered map 和 unordered multimap

![image-20210401114900446](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401114900446.png)

![image-20210401114909138](https://yydf-1305206966.cos.ap-nanjing.myqcloud.com/image-20210401114909138.png)

### unordered容器的hash函数

系统为内置类型和string准备了默认的hash函数，至于其他类型，我们必须提供自己的hash函数

